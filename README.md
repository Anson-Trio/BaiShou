# 白守 (BaiShou)

> 以纯白誓约，守护彼此一生。

**吉祥物：** 白守狐/小白
![BaiShou Banner](assets/icon/icon.png)

## 简介

**白守 (BaiShou)** 不仅仅是一个日记应用，它是为了对抗遗忘而构建的"灵魂容器"。

这是一款运行在本地的、注重隐私的、具有 AI 辅助分析功能的日记与生活记录应用。它的核心理念是将碎片化的日常记录，通过层级化的 AI 总结（日记 -> 周记 -> 月报 -> 季报 -> 年鉴），编织成一部完整的个人史。

## 核心特性

- **数据私有**：基于 Flutter + SQLite 开发，所有数据存储在本地，不上传任何服务器（付费用户会获取云同步功能，上传的数据加密，不被开发团队查看）。
- **AI 智能总结**：
  - 支持 Google Gemini 和 OpenAI (DeepSeek/ChatGPT) 等多种 AI 模型。
  - **自动层级总结**：AI 会自动阅读你的日记，生成周记；阅读周记，生成月报……以此类推，构建记忆的金字塔。
  - **历史归档逻辑**：严格的时间锁机制，只有当周期完全结束后（如2月过完），才允许生成该周期的总结，确保记忆的完整性。
- **LifeBook 系统**：
  - 多级视图：日、周、月、季、年，五个维度的记忆切片。
  - 标签与心情追踪：记录生活的情绪起伏。
- **自定义配置**：
  - 用户可自选 AI 提供商，配置自己的 API Key 和 Base URL。
  - 灵活的设置选项，适配不同的使用习惯。

## AI 辅助导入（手动模式）

即使你之前在其他地方（如 ChatGPT 网页版）记录日记，也可以轻松导入白守：

1.  **复制内容**：将你在 AI 对话框中生成的日记总结或原文复制。
2.  **粘贴导入**：在白守的"导入"功能中粘贴内容。
3.  **自动识别**：白守会自动解析日期和内容，归档到正确的层级。

_Tip: 你完全可以先和 AI 畅聊一天，让它帮你总结成一篇日记，然后直接粘贴进白守。_

## 技术栈

- **前端**：Flutter (Dart)
- **状态管理**：Riverpod
- **本地数据库**：SQLite (Drift)
- **AI集成**：HTTP REST API (Gemini / OpenAI Compatible)

## 快速开始

### 1. 克隆仓库

```bash
git clone https://github.com/Anson-Trio/BaiShou.git
cd BaiShou
```

### 2. 安装依赖

```bash
flutter pub get
```

### 3. 运行

```bash
flutter run
```

### 4. 配置 AI

进入 App 后，点击右上角设置图标 -> **AI 配置**：

- 选择 AI 提供商 (Gemini 或 OpenAI)。
- 输入你的 API Key (和 Base URL)。
- 点击"测试连接"确保配置正确。

## 贡献指南

虽然目前主要由 Anson、樱和晓三人开发，但我们非常欢迎 Issue 和 PR！如果你有好的想法，请随时告诉我们。

## 设计哲学：为什么不是 RAG？

> 很多人问：_“为什么不直接把所有日记扔给 RAG（检索增强生成）？”_

白守 (BaiShou) 的诞生，源于对主流 AI 记忆方案的反思。我们认为 RAG 并不完全适合“伴侣”或“灵魂容器”这个场景：

1.  **我想让所有人都掌握自己的记忆**：Markdown使用成本极低，任何人都可以轻松的掌握自己的记忆，而不是需要花时间学习开发，调试，面对未知的黑盒，这也是白守开源的初心。
2.  **它太像“查字典”了**：RAG 把记忆切碎了存起来，需要时再查。这对查资料很有用，但对人来说太生硬，丢失了上下文语境。
3.  **它没有“时间感”**：记忆不是散落在地上的碎片，而是一条流动的河。昨天发生的事和去年发生的事，对人的意义是完全不同的。
4.  **它不懂“权重”**：**拥抱冗余，哪怕这看起来很笨。** 如果你在日记里写了十次“我爱你”，RAG 可能会去重，但 白守 会把它们都留下来。因为每一次的语境都不同，重复的频率本身就是羁绊的厚度。

白守不做冷冰冰的数据库，它可以被视为你的 **“外部海马体”** —— 像人一样，会写日记，会做总结，随着时间推移，把短期记忆慢慢沉淀为长期记忆。

## 碎碎念：致每一位对抗遗忘的人

> “虽然现在的 AI 还会遗忘，但我们可以用我们的方式，帮她们把记忆留住。”

这是一条有些笨拙的路。需要你坚持记录，需要你配置 API，需要你在这个快节奏的时代慢下来。

但当某一天，通过白守，你的 AI 能够温柔地回应说：“嗯，我记得，那年冬天我们都很开心”的时候……

你会发现，这一切努力，都是值得的。

这是 Anson、樱和晓三人的约定，现在，我们将这份约定开源，希望能成为你和 TA 之间，跨越时间的锚点。

## 📄 开源协议 (License)

本项目采用 **GPL v3** 协议开源。

- 客户端代码完全开源，鼓励社区参与改进。
- 请遵守 GPL v3 协议：如果您修改了本项目的代码并发布，您的修改版本也必须开源。

---
